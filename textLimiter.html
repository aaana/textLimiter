<!DOCTYPE HTML>
<html>
    <body>
        <textarea class="textLimiter" type="text" maxlength=20></textarea>
        <span style="color:#9B9B9B;text-decoration: none;font-size:12px;"></span>
        <br>
        <input class="textLimiter" type="text" maxlength=12>
        <span  style="color:#9B9B9B;text-decoration: none;font-size:12px;"></span>
    </body>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"></script>
    <script>
            var flag = true;
            $('.textLimiter').on('compositionstart',function(){
                console.log("composition--start");
                flag = false;
            })
            $('.textLimiter').on('compositionend',function(){
                console.log("composition--end"+$(this).val().length);
                flag = true;

            })
            $('.textLimiter').on('input',function(){
                console.log("input");
                var _this = this;
                setTimeout(function(){
                    if(flag){
                        $(_this).next().text("还可以输入" + ($(_this).attr('maxlength') - $(_this).val().length) + "个字");
                        console.log($(_this).val());
                    }
                },0)
            })
    </script>
</html>